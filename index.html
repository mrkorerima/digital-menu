<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Digital Menu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    font-family: sans-serif;
    margin: 0;
    background: #f9f9f9;
  }
  header {
    background: #4CAF50;
    color: white;
    padding: 15px;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  .menu-section {
    padding: 10px 15px;
  }
  .section-title {
    font-size: 18px;
    font-weight: bold;
    margin-top: 15px;
    border-bottom: 2px solid #ddd;
    padding-bottom: 5px;
  }
  .menu-item {
    display: flex;
    justify-content: space-between;
    background: white;
    padding: 10px;
    margin-top: 8px;
    border-radius: 6px;
    box-shadow: 0 0 5px rgba(0,0,0,0.05);
    flex-wrap: wrap;
  }
  .item-info {
    flex: 1;
  }
  .item-name {
    font-weight: bold;
  }
  .item-desc {
    font-size: 14px;
    color: #555;
  }
  .item-price {
    color: #4CAF50;
    font-weight: bold;
  }
  .order-controls {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-top: 5px;
  }
  input[type="number"] {
    width: 60px;
    padding: 4px;
  }
  button {
    padding: 5px 8px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  #status {
    text-align: center;
    margin: 10px;
    font-size: 16px;
  }
</style>
</head>
<body>

<header>
  <h2>üçΩ Digital Menu</h2>
  <div id="tableInfo">Table: Unknown</div>
</header>

<div id="menu"></div>

<p id="status"></p>

<script>
const table = new URLSearchParams(window.location.search).get("table") || "Unknown";
document.getElementById("tableInfo").textContent = `Table: ${table}`;

const menuData = [
  {name:"·å®·å®·â•·à≥ ·â†·ä•·äï·âÅ·àã·àç",desc:"Cacabsaa Killeen",cat:"ciree/·âÅ·à≠·àµ",price:250},
  {name:"·å®·å®·â•·à≥ ·ä•·àµ·çî·àª·àç",desc:"Cacabsaa Iispehsalaa(Kitfoni)",cat:"ciree/·âÅ·à≠·àµ",price:300},
  {name:"·å®·å®·â•·à≥ ·äñ·à≠·àõ·àç",desc:"Cacabsaa",cat:"ciree/·âÅ·à≠·àµ",price:150},
  {name:"·â°·àã ·çç·à≠·çç·à≠ ·ä•·àµ·çî·ãç·àª·àç",desc:"Firfirii Bulaa Iispeshalaa",cat:"ciree/·âÅ·à≠·àµ",price:300},
  {name:"·â°·àã ·çç·à≠·çç·à≠ ·äñ·à≠·àõ·àç",desc:"Firfirii Bulaa",cat:"ciree/·âÅ·à≠·àµ",price:150},
  {name:"·åà·äï·çé ·ä•·àµ·çî·àª·àç",desc:"Marqaa Iispeshalaa",cat:"ciree/·âÅ·à≠·àµ",price:300},
  {name:"·ã®·â°·àã ·åà·äï·çé",desc:"Marqaa Bulaa",cat:"ciree/·âÅ·à≠·àµ",price:150},
  {name:"·â°·àã ·åà·äï·çé ·ä•·àµ·çî·àª·àç",desc:"Marqaa Bulaa Iispehsalaa",cat:"ciree/·âÅ·à≠·àµ",price:300},
  {name:"·å≠·äÆ",desc:"Micciiraa",cat:"ciree/·âÅ·à≠·àµ",price:500},
  {name:"·âÇ·äï·å¨",desc:"Qincee",cat:"ciree/·âÅ·à≠·àµ",price:150},
  {name:"·â°·àã ·çç·à≠·çç·à≠ ·â†·ä†·ã≠·â•",desc:"Firfirii Bula Shalalan",cat:"ciree/·âÅ·à≠·àµ",price:200},
  {name:"·ä•·à≠·åé",desc:"Itituu",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:80},
  {name:"·âµ·çà·àç·â∂ ·ã®·âÄ·ãò·âÄ·ãò ·ãà·â∞·âµ",desc:"Aannan Kabanayee",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:40},
  {name:"·àà·àµ·àã·à≥",desc:"Lalaffaa",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:40},
  {name:"·ãç·àÉ 2 ·àä·âµ·à≠",desc:"Bishaan L2",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:35},
  {name:"·ãç·àÉ 1 ·àä·âµ·à≠",desc:"Bishaan L1",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:25},
  {name:"·ãç·àÉ 1/2 ·àä·âµ·à≠",desc:"Bishaan L1/2",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:25},
  {name:"·â∞·àç·â£ ·åÅ·àµ ·ä•·àµ·çî·àª·àç",desc:"Juisii Talbaa Ispeshalaa",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:100},
  {name:"·â∞·àç·â£ ·åÅ·àµ",desc:"Juisii Talbaa Ispeshalaa",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:80},
  {name:"·ä´·àÆ·âµ ·åÅ·àµ",desc:"Juisii Kaarotii",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:80},
  {name:"·àÄ·â£·â• ·åÅ·àµ",desc:"Juisii Habaabii",cat:"gosa dhugaatii/·ã®·àò·å†·å• ·ãù·à≠·ãù·à≠",price:80},
  {name:"·àõ·ä™·ã´·â∂",desc:"Macchiato",cat:"dhugaatii ho'aa/·âµ·ä©·àµ ·àò·å†·å¶·âΩ",price:40},
  {name:"·â°·äì",desc:"Buna",cat:"dhugaatii ho'aa/·âµ·ä©·àµ ·àò·å†·å¶·âΩ",price:30},
  {name:"·àª·ã≠",desc:"Shaayii",cat:"dhugaatii ho'aa/·âµ·ä©·àµ ·àò·å†·å¶·âΩ",price:25}
];

function renderMenu() {
  const menuDiv = document.getElementById("menu");
  const categories = [...new Set(menuData.map(item => item.cat))];
  categories.forEach(cat => {
    const section = document.createElement("div");
    section.className = "menu-section";
    section.innerHTML = `<div class="section-title">${cat}</div>`;
    menuData.filter(i => i.cat === cat).forEach(item => {
      const itemDiv = document.createElement("div");
      itemDiv.className = "menu-item";
      itemDiv.innerHTML = `
        <div class="item-info">
          <div class="item-name">${item.name}</div>
          <div class="item-desc">${item.desc}</div>
          <div class="item-price">${item.price} Br</div>
          <div class="order-controls">
            <input type="number" value="1" min="1" id="qty-${item.name}">
            <button onclick="placeOrder('${item.name}','${item.desc}',${item.price})">Order</button>
          </div>
        </div>
      `;
      section.appendChild(itemDiv);
    });
    menuDiv.appendChild(section);
  });
}

function placeOrder(name, desc, price) {
  const qty = document.getElementById(`qty-${name}`).value;
  const data = {
    table: table,
    item: name,
    quantity: qty
  };

  fetch("YOUR_WEB_APP_URL_HERE", {
    method: "POST",
    mode: "no-cors",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  }).then(() => {
    document.getElementById("status").textContent = `‚úÖ Order for ${name} sent!`;
  }).catch(() => {
    document.getElementById("status").textContent = "‚ùå Failed to send order.";
  });
}

renderMenu();
</script>

</body>
</html>
