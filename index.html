<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Digital Menu</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #fafafa;
        margin: 0;
        padding: 0;
    }
    header {
        background: #ff5722;
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 1.5rem;
    }
    .menu {
        display: flex;
        flex-direction: column;
        padding: 10px;
        overflow-y: auto;
    }
    .menu-item {
        background: white;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 10px;
        box-shadow: 0px 2px 6px rgba(0,0,0,0.1);
    }
    .menu-item h3 {
        margin: 0;
        color: #ff5722;
    }
    .menu-item p {
        margin: 5px 0;
        color: #555;
    }
    .menu-item button {
        background: #ff5722;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 5px;
        cursor: pointer;
    }
    .menu-item button:hover {
        background: #e64a19;
    }
    /* Pop-up */
    #order-popup {
        display: none;
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4caf50;
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0px 2px 6px rgba(0,0,0,0.3);
        animation: fadeInOut 3s ease forwards;
    }
    @keyframes fadeInOut {
        0% { opacity: 0; transform: translateY(-20px); }
        10% { opacity: 1; transform: translateY(0); }
        90% { opacity: 1; }
        100% { opacity: 0; transform: translateY(-20px); }
    }
</style>
</head>
<body>
<script src="script.js"></script>
<header>ðŸ“‹ Digital Menu</header>
<div class="menu" id="menu"></div>

<div id="order-popup">âœ… Order Sent!</div>

<script>
// Menu data
const menuItems = [
    { name: "áŒ¨áŒ¨á‰¥áˆ³ á‰ áŠ¥áŠ•á‰áˆ‹áˆ", description: "Cacabsaa Killeen", category: "ciree/á‰áˆ­áˆµ", price: 250 },
    { name: "áŒ¨áŒ¨á‰¥áˆ³ áŠ¥áˆµá”áˆ»áˆ", description: "Cacabsaa Iispehsalaa(Kitfoni)", category: "ciree/á‰áˆ­áˆµ", price: 300 },
    { name: "áŒ¨áŒ¨á‰¥áˆ³ áŠ–áˆ­áˆ›áˆ", description: "Cacabsaa", category: "ciree/á‰áˆ­áˆµ", price: 150 },
    { name: "á‰¡áˆ‹ ááˆ­ááˆ­ áŠ¥áˆµá”á‹áˆ»áˆ", description: "Firfirii Bulaa Iispeshalaa", category: "ciree/á‰áˆ­áˆµ", price: 300 },
    { name: "á‰¡áˆ‹ ááˆ­ááˆ­ áŠ–áˆ­áˆ›áˆ", description: "Firfirii Bulaa", category: "ciree/á‰áˆ­áˆµ", price: 150 },
    { name: "áŒˆáŠ•áŽ áŠ¥áˆµá”áˆ»áˆ", description: "Marqaa Iispeshalaa", category: "ciree/á‰áˆ­áˆµ", price: 300 },
    { name: "á‹¨á‰¡áˆ‹ áŒˆáŠ•áŽ", description: "Marqaa Bulaa", category: "ciree/á‰áˆ­áˆµ", price: 150 },
    { name: "á‰¡áˆ‹ áŒˆáŠ•áŽ áŠ¥áˆµá”áˆ»áˆ", description: "Marqaa Bulaa Iispehsalaa", category: "ciree/á‰áˆ­áˆµ", price: 300 },
    { name: "áŒ­áŠ®", description: "Micciiraa", category: "ciree/á‰áˆ­áˆµ", price: 500 },
    { name: "á‰‚áŠ•áŒ¬", description: "Qincee", category: "ciree/á‰áˆ­áˆµ", price: 150 },
    { name: "á‰¡áˆ‹ ááˆ­ááˆ­ á‰ áŠ á‹­á‰¥", description: "Firfirii Bula Shalalan", category: "ciree/á‰áˆ­áˆµ", price: 200 },
    { name: "áŠ¥áˆ­áŒŽ", description: "Itituu", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 80 },
    { name: "á‰µáˆáˆá‰¶ á‹¨á‰€á‹˜á‰€á‹˜ á‹ˆá‰°á‰µ", description: "Aannan Kabanayee", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 40 },
    { name: "áˆˆáˆµáˆ‹áˆ³", description: "Lalaffaa", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 40 },
    { name: "á‹áˆƒ 2 áˆŠá‰µáˆ­", description: "Bishaan L2", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 35 },
    { name: "á‹áˆƒ 1 áˆŠá‰µáˆ­", description: "Bishaan L1", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 25 },
    { name: "á‹áˆƒ 1/2 áˆŠá‰µáˆ­", description: "Bishaan L1/2", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 25 },
    { name: "á‰°áˆá‰£ áŒáˆµ áŠ¥áˆµá”áˆ»áˆ", description: "Juisii Talbaa Ispeshalaa", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 100 },
    { name: "á‰°áˆá‰£ áŒáˆµ", description: "Juisii Talbaa", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 80 },
    { name: "áŠ«áˆ®á‰µ áŒáˆµ", description: "Juisii Kaarotii", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 80 },
    { name: "áˆ€á‰£á‰¥ áŒáˆµ", description: "Juisii Habaabii", category: "gosa dhugaatii/á‹¨áˆ˜áŒ áŒ¥ á‹áˆ­á‹áˆ­", price: 80 },
    { name: "áˆ›áŠªá‹«á‰¶", description: "Macchiato", category: "dhugaatii ho'aa/á‰µáŠ©áˆµ áˆ˜áŒ áŒ¦á‰½", price: 40 },
    { name: "á‰¡áŠ“", description: "Buna", category: "dhugaatii ho'aa/á‰µáŠ©áˆµ áˆ˜áŒ áŒ¦á‰½", price: 30 },
    { name: "áˆ»á‹­", description: "Shaayii", category: "dhugaatii ho'aa/á‰µáŠ©áˆµ áˆ˜áŒ áŒ¦á‰½", price: 25 }
];

// Get table number from URL
const urlParams = new URLSearchParams(window.location.search);
const tableNumber = urlParams.get('table') || "Unknown";

// Display menu
const menuDiv = document.getElementById("menu");
menuItems.forEach(item => {
    const div = document.createElement("div");
    div.classList.add("menu-item");
    div.innerHTML = `
        <h3>${item.name} - ${item.price} Br</h3>
        <p>${item.description}</p>
        <p><strong>Category:</strong> ${item.category}</p>
        <button onclick="sendOrder('${item.name}', ${item.price})">Order</button>
    `;
    menuDiv.appendChild(div);
});

// Send order to Google Sheet
function sendOrder(itemName, price) {
    const orderData = {
        table: tableNumber,
        item: itemName,
        price: price
    };

    fetch("https://script.google.com/macros/s/AKfycbyO2PJch9_-Y7lQKPCR67Ea8Dhy3S7JijaaCou3o4D9MA4g--CP4Byn4TcJekgYiQCv/exec", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(orderData)
    })
    .then(res => res.json())
    .then(data => {
        if (data.status === "success") {
            document.getElementById("order-popup").style.display = "block";
            setTimeout(() => {
                document.getElementById("order-popup").style.display = "none";
            }, 3000);
        } else {
            alert("Error sending order.");
        }
    })
    .catch(err => {
        console.error("Error:", err);
        alert("Network error. Please try again.");
    });
}
</script>

</body>
</html>
